<%# app/views/devise/registrations/new.html.erb %>
<div class="devise-page">
  <div class="page-container">
    <!-- Sección de Bienvenida -->
    <div class="welcome-section">
      <div class="container">
        <div class="row justify-content-center">
          <div class="col-md-8">
            <div class="welcome-container">
              <h1>Welcome to mindme</h1>
              <p>Please fill in the details below to create your account.</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Formulario de Registro -->
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-md-6">
          <div class="signup-container">
            <div class="signup-header">
              <h2><i class="fas fa-user-plus"></i> Sign Up</h2>
            </div>

            <div class="signup-body">
              <%= simple_form_for(resource, as: resource_name, url: registration_path(resource_name)) do |f| %>
                <%= f.error_notification %>

                <div class="form-inputs">
                  <!-- Selección de Rol -->
                  <div class="role-selection-container">
                    <%= f.input :role,
                                as: :radio_buttons,
                                collection: [['Patient', 'patient'], ['Psychologist', 'psychologist']],
                                item_wrapper_class: 'form-check form-check-inline',
                                label_method: :first,
                                value_method: :last,
                                label: "I am a",
                                required: true,
                                input_html: { class: 'form-check-input' },
                                label_html: { class: 'form-check-label' } %>
                  </div>

                  <!-- Información Personal -->
                  <div class="row">
                    <div class="col-md-6">
                      <div class="form-group">
                        <%= f.label :first_name, "First Name" %>
                        <%= f.text_field :first_name,
                                        required: true,
                                        class: "form-control",
                                        placeholder: "Enter your first name",
                                        autocomplete: "given-name" %>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="form-group">
                        <%= f.label :last_name, "Last Name" %>
                        <%= f.text_field :last_name,
                                        required: true,
                                        class: "form-control",
                                        placeholder: "Enter your last name",
                                        autocomplete: "family-name" %>
                      </div>
                    </div>
                  </div>

                  <!-- Email -->
                  <div class="form-group">
                    <%= f.label :email, "Email Address" %>
                    <%= f.email_field :email,
                                     required: true,
                                     autofocus: true,
                                     class: "form-control",
                                     placeholder: "Enter your email address",
                                     autocomplete: "email" %>
                  </div>

                  <!-- Contraseña -->
                  <div class="form-group">
                    <%= f.label :password, "Password" %>
                    <%= f.password_field :password,
                                        required: true,
                                        class: "form-control",
                                        placeholder: "Create a secure password",
                                        autocomplete: "new-password" %>
                    <% if @minimum_password_length %>
                      <div class="help-text">
                        <i class="fas fa-info-circle"></i>
                        Minimum <%= @minimum_password_length %> characters required
                      </div>
                    <% end %>
                  </div>

                  <!-- Confirmación de Contraseña -->
                  <div class="form-group">
                    <%= f.label :password_confirmation, "Confirm Password" %>
                    <%= f.password_field :password_confirmation,
                                        required: true,
                                        class: "form-control",
                                        placeholder: "Confirm your password",
                                        autocomplete: "new-password" %>
                  </div>
                </div>

                <!-- Botón de Envío -->
                <div class="form-actions">
                  <%= f.button :submit, "Create My Account", class: "btn btn-primary btn-signup" %>
                </div>
              <% end %>

              <!-- Enlaces de Devise -->
              <div class="devise-links">
                <%= render "devise/shared/links" %>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
