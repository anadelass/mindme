<div class="container mt-5">
  <div class="row justify-content-center">
    <div class="col-md-6">
      <h2 class="text-center mb-4 text-success">
        📝 Leave your review for <%= @appointment.psychologist.first_name %> <%= @appointment.psychologist.last_name %>
      </h2>

      <% if @review.errors.any? %>
        <div class="alert alert-danger">
          <h4><%= pluralize(@review.errors.count, "error") %> prohibited this review from being saved:</h4>
          <ul>
            <% @review.errors.full_messages.each do |msg| %>
              <li><%= msg %></li>
            <% end %>
          </ul>
        </div>
      <% end %>

        <%= form_with url: appointment_review_path(@appointment), model: @review, local: true do |f| %>

        <div class="mb-3">
          <%= f.label :rating, "Rating (1 to 5 stars)", class: "form-label fw-bold" %>
          <%= f.number_field :rating, in: 1..5, step: 1, class: "form-control", required: true %>
        </div>

        <div class="mb-3">
          <%= f.label :comments, "Comments (optional)", class: "form-label fw-bold" %>
          <%= f.text_area :comments, rows: 5, class: "form-control" %>
        </div>

        <div class="d-grid">
          <%= f.submit "Submit Review", class: "btn btn-success" %>
        </div>
      <% end %>

      <div class="mt-3 text-center">
        <%= link_to "Cancel", appointments_path, class: "btn btn-link" %>
      </div>
    </div>
  </div>
</div>
