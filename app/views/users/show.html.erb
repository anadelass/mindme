<div class="container py-5 psychologist-profiles">
  <h2 class="mb-5 text-center fw-bold text-success">Perfil del Psicólogo</h2>

  <div class="row justify-content-center">
    <div class="col-lg-6 col-md-8 col-sm-10">
      <div class="profile-card">
        <div class="profile-header">
          <div class="profile-image">
            <%= image_tag "https://t4.ftcdn.net/jpg/11/66/06/77/360_F_1166067709_2SooAuPWXp20XkGev7oOT7nuK1VThCsN.jpg",
                         alt: "#{@psychologist.first_name} #{@psychologist.last_name}",
                         class: 'img-fluid' %>
          </div>

          <h3 class="name"><%= @psychologist.first_name %> <%= @psychologist.last_name %></h3>
          <p class="specialty">Psicólogo Clínico</p>
          <span class="license">Profesional Verificado</span>
        </div>

        <div class="contact-links">
          <% if @psychologist.email.present? %>
            <a href="mailto:<%= @psychologist.email %>" class="contact-icon" title="Email">
              <i class="fas fa-envelope"></i>
            </a>
          <% end %>

          <a href="#" class="contact-icon" title="Teléfono" onclick="alert('Contacta para más información')">
            <i class="fas fa-phone"></i>
          </a>

          <a href="#" class="contact-icon" title="Perfil profesional">
            <i class="fas fa-user-md"></i>
          </a>

          <a href="#" class="contact-icon" title="Mensajes">
            <i class="fas fa-comments"></i>
          </a>
        </div>

        <div class="profile-stats">
          <div class="stat-item">
            <span class="stat-number">
              <%= @psychologist.psychologist_profile&.experience || '5+' %>
            </span>
            <span class="stat-label">Experiencia</span>
          </div>

          <div class="stat-item">
            <span class="stat-number">100+</span>
            <span class="stat-label">Sesiones</span>
          </div>

          <div class="stat-item">
            <span class="stat-number">4.9</span>
            <span class="stat-label">Rating</span>
          </div>
        </div>

        <div class="profile-info">
          <% if @psychologist.psychologist_profile&.bio.present? %>
            <div class="bio">
              <%= @psychologist.psychologist_profile.bio %>
            </div>
          <% else %>
            <div class="bio">
              Psicólogo profesional especializado en brindar apoyo y orientación para el bienestar mental y emocional.
            </div>
          <% end %>

          <div class="info-grid">
            <div class="info-item">
              <span class="info-label">Modalidad</span>
              <span class="info-value">
                <%= @psychologist.psychologist_profile&.modelity || 'Presencial y Online' %>
              </span>
            </div>

            <div class="info-item">
              <span class="info-label">Email</span>
              <span class="info-value"><%= @psychologist.email %></span>
            </div>

            <div class="info-item">
              <span class="info-label">Disponible</span>
              <span class="info-value">Lun-Vie 9:00-18:00</span>
            </div>

            <div class="info-item">
              <span class="info-label">Estado</span>
              <span class="info-value">
                <span class="badge bg-success">Activo</span>
              </span>
            </div>
          </div>
        </div>

        <div class="action-buttons">
          <%= button_to 'Solicitar Terapia',
                        therapy_requests_path(psychologist_id: params[:id]),
                        method: :post,
                        class: 'btn btn-primary-custom',
                        data: {
                          confirm: '¿Estás seguro de que quieres solicitar terapia con este psicólogo?'
                        } %>

          <a href="#" class="btn btn-secondary-custom" onclick="window.history.back()">
            Volver
          </a>
        </div>
      </div>
    </div>
  </div>

  <!-- Sección adicional con más información -->
  <div class="row mt-5">
    <div class="col-12">
      <div class="card shadow-sm">
        <div class="card-header bg-light">
          <h5 class="mb-0 text-success">
            <i class="fas fa-info-circle me-2"></i>
            Información Adicional
          </h5>
        </div>
        <div class="card-body">
          <div class="row">
            <div class="col-md-6">
              <h6 class="text-muted">Experiencia Profesional</h6>
              <p><%= @psychologist.psychologist_profile&.experience || 'Información no disponible' %></p>
            </div>
            <div class="col-md-6">
              <h6 class="text-muted">Especialidades</h6>
              <p>Terapia cognitivo-conductual, ansiedad, depresión</p>
            </div>
          </div>

          <div class="row mt-3">
            <div class="col-md-6">
              <h6 class="text-muted">Modalidad de Atención</h6>
              <p><%= @psychologist.psychologist_profile&.modelity || 'Presencial y Online' %></p>
            </div>
            <div class="col-md-6">
              <h6 class="text-muted">Contacto</h6>
              <p>
                <i class="fas fa-envelope me-2"></i>
                <%= @psychologist.email %>
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
