<div class="container py-5 psychologist-profiles">
  <h2 class="mb-5 text-center fw-bold text-success">Psychologist profile</h2>

  <div class="row justify-content-center">
    <div class="col-lg-6 col-md-8 col-sm-10">
      <div class="profile-card">
        <div class="profile-header">

          <div class="profile-image">
            <% if @psychologist.avatar.attached? %>
              <%= cl_image_tag @psychologist.avatar.key, class: "rounded-circle img-fluid", style: "object-fit: cover; width: 120px; height: 120px;", alt: "#{current_user.first_name} #{current_user.last_name}" %>
            <% else %>
              <%= cl_image_tag "default-avatar", class: "rounded-circle img-fluid", style: "width: 120px; height: 120px;", alt: "#{current_user.first_name} #{current_user.last_name}" %>
            <% end %>
          </div>

          <h3 class="name"><%= @psychologist.first_name %> <%= @psychologist.last_name %></h3>
          <p class="specialty">Clinical Psychologist</p>
          <span class="license">Verified</span>
        </div>

        <div class="contact-links">
          <% if @psychologist.email.present? %>
            <a href="mailto:<%= @psychologist.email %>" class="contact-icon" title="Email">
              <i class="fas fa-envelope"></i>
            </a>
          <% end %>

          <a href="#" class="contact-icon" title="Teléfono" onclick="alert('Contacta para más información')">
            <i class="fas fa-phone"></i>
          </a>

          <a href="#" class="contact-icon" title="Perfil profesional">
            <i class="fas fa-user-md"></i>
          </a>


        </div>

        <div class="profile-stats">
          <div class="stat-item">
            <span class="stat-number">
              <%= @psychologist.psychologist_profile&.experience || '5+' %>
            </span>
            <span class="stat-label">Experience</span>
          </div>

          <div class="stat-item">
            <span class="stat-number">100+</span>
            <span class="stat-label">Sessions</span>
          </div>

          <div class="stat-item">
            <span class="stat-number">4.9</span>
            <span class="stat-label">Rating</span>
          </div>
        </div>

        <div class="profile-info">
          <% if @psychologist.psychologist_profile&.bio.present? %>
            <div class="bio">
              <%= @psychologist.psychologist_profile.bio %>
            </div>
          <% else %>
            <div class="bio">
              Professional psychologist specializing in providing support and guidance for mental and emotional well-being.
            </div>
          <% end %>

          <div class="info-grid">
            <div class="info-item">
              <span class="info-label">Modality</span>
              <span class="info-value">
                <%= @psychologist.psychologist_profile&.modelity || 'In Person and Online' %>
              </span>
            </div>

            <div class="info-item">
              <span class="info-label">Email</span>
              <span class="info-value"><%= @psychologist.email %></span>
            </div>




          </div>
        </div>

        <div class="action-buttons">
          <%= button_to 'Request therapy',
                        therapy_requests_path(psychologist_id: params[:id]),
                        method: :post,
                        class: 'btn btn-primary-custom',
                        data: {
                          confirm: '¿Are you sure you would like to request a therapy session?'
                        } %>

          <a href="#" class="btn btn-secondary-custom" onclick="window.history.back()">
            Back
          </a>
        </div>
      </div>
    </div>
  </div>

</div>
