<!-- Dashboard Container -->
<div class="dashboard-container">
  <!-- Sidebar -->
  <aside class="sidebar">

    <nav class="sidebar-nav">
      <div class="nav-section">
        <div class="section-title">Main</div>
        <ul class="nav-list">
          <li class="nav-item">
            <%= link_to root_path, class: "nav-link active" do %>
              <i class="fas fa-home nav-icon"></i>
              <span>Home</span>
            <% end %>
          </li>
          <li class="nav-item">
            <%= link_to psychologists_path, class: "nav-link" do %>
              <i class="fas fa-comments nav-icon"></i>
              <span>Psychologists</span>
            <% end %>
          </li>
          <li class="nav-item">
            <%= link_to appointments_path, class: "nav-link" do %>
              <i class="fas fa-calendar nav-icon"></i>
              <span>Appointments</span>
            <% end %>
          </li>
          <li class="nav-item">
            <%= link_to requests_path, class: "nav-link" do %>
              <i class="fas fa-clipboard-list nav-icon"></i>
              <span>Requests</span>
            <% end %>
          </li>
                    <li class="nav-item">
            <%= link_to messages_path, class: "nav-link" do %>
              <i class="fa-solid fa-message nav-icon"></i>
              <span>Messages</span>
            <% end %>
          </li>
        </ul>
      </div>

      <div class="nav-section">
        <div class="section-title">Account</div>
        <ul class="nav-list">
          <li class="nav-item">
            <%= link_to destroy_user_session_path, data: {turbo_method: :delete}, class: "nav-link" do %>
              <i class="fas fa-sign-out-alt nav-icon"></i>
              <span>Log out</span>
            <% end %>
          </li>
        </ul>
      </div>
    </nav>
  </aside>

  <!-- Main Content -->
  <main class="main-content">
    <!-- Header -->
    <header class="main-header">
      <div class="header-content">
        <div class="page-title">
          <h1>Welcome back, <%= current_user.first_name %>!</h1>
          <p class="page-subtitle">How are you feeling today?</p>
        </div>
      </div>
    </header>

    <!-- Content -->
    <div class="content-area">
      <div class="content-grid">

        <!-- Chat Interface -->
        <div class="primary-content">
          <div class="content-header">
            <h2>Chat with us</h2>
            <p>Get immediate support and guidance</p>
          </div>

          <div class="chat-interface">

          <div class="d-flex justify-content-end">
            <%= button_to destroy_all_questions_path,
                          method: :delete,
                          data: { turbo_confirm: "Are you sure you want to clear the chat?" },
                          class: "btn btn-outline-danger mb-3",
                          title: "Clear Chat" do %>
              <i class="fas fa-trash"></i>
            <% end %>
          </div>
            <div id="questions-container" data-controller="chat-scroll">
              <%= render partial: "questions/question", collection: @questions, as: :question %>
            </div>

            <%= render "questions/form", question: @question %>
          </div>

        <!-- Sidebar Content -->

      </div>
    </div>
  </main>
</div>
